<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>WiFi (with WEP Security) on Raspberry Pi - Jeff's Skinner Box</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="http://jeffskinnerbox.me/favicon.ico" rel="icon">

    <!-- Open Graph tags -->
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="WiFi (with WEP Security) on Raspberry Pi"/>
            <meta property="og:url" content="http://jeffskinnerbox.me/posts/2012/Nov/05/wifi-with-wep-security-on-raspberry-pi/"/>
            <meta property="og:description" content="While I have seen many posting on how to configure the Raspberry Pi with WPA, there is oddly little information about WEP configrations. Hopefully this posting will solve that problem for you."/>

        <meta content='4b4ba976784eb9a97125d9e26149a667' name='RepostUsAPIKey' />
        <script src='http://1.rp-api.com/rjs/repostus.js' type='text/javascript'></script>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://jeffskinnerbox.me/theme/css/bootstrap.flatly.min.css" type="text/css"/>

    <!-- Font Awesome and Google Fonts -->
    <link href="http://jeffskinnerbox.me/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>

    <link href="http://jeffskinnerbox.me/theme/css/pygments/native.css" rel="stylesheet">
        <link href="http://jeffskinnerbox.me/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="http://jeffskinnerbox.me/theme/css/style.css" type="text/css"/>

        <link href="http://jeffskinnerbox.me/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jeff's Skinner Box ATOM Feed"/>
</head>

<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://jeffskinnerbox.me/" style="font-family: Knewave, cursive; font-size: 48px; color: #FFFFFF">
Jeff's Skinner Box&nbsp;            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://jeffskinnerbox.me/pages/about-me.html">
                             About&nbsp;Me
                          </a></li>
                    <li><a href="/index.html">Blog</a></li>
                    <li><a href="/pages/open-notebook.html">Open Notebook</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://jeffskinnerbox.me/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
<!-- GitHub Ribbon - https://github.com/blog/273-github-ribbons -->
<a href="https://github.com/jeffskinnerbox/jeffskinnerbox.github.io/tree/source" target="_blank">
    <img style="position: absolute; top: 0; left: 0; border: 0;" src="https://github-camo.global.ssl.fastly.net/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png">
</a>       <!-- GitHub Ribbon - https://github.com/blog/273-github-ribbons -->
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://jeffskinnerbox.me/posts/2012/Nov/05/wifi-with-wep-security-on-raspberry-pi/"
                       rel="bookmark"
                       title="Permalink to WiFi (with WEP Security) on Raspberry Pi">
                        WiFi (with <span class="caps">WEP</span> Security) on Raspberry&nbsp;Pi
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-11-05T00:01:00"> Monday  November 05, 2012</time>
    </span>



&nbsp;&nbsp;&nbsp;
<i class="fa fa-tags fa-lg"></i>
    <a class="btn btn-default btn-xs" href="http://jeffskinnerbox.me/tag/raspberry-pi/">Raspberry Pi</a>
    
</footer><!-- /.post-info -->                    </div>
<!-- Repost button -->
<!-- For more information - http://www.repost.us/ -->
<a class='rpuRepostUsButton' href='https://secure.repost.us/syndicate/create'>
    <img alt='Repost This' title='Repost this article to your website' src='http://static.1.rp-api.com/buttons/repostus_bttn_shrt_embed.png'/>
</a>                </div>
                <p>The Raspberry Pi Linux distribution I&#8217;m using is Adafruit&#8217;s <a href="http://learn.adafruit.com/adafruit-raspberry-pi-educational-linux-distro/occidentalis-v0-dot-2">Occidentalis</a>.  It <a href="http://learn.adafruit.com/adafruit-raspberry-pi-educational-linux-distro/occidentalis-v0-dot-1#wifi-support">supports WiFi</a> out of the box and appears easy to configure.  But as noted by Adafruit, adding peripherals to the RPi may increase the loading on the power supply to your board and this, in turn, may affect the voltage presented to the&nbsp;RPi.</p>

<p>This is clearly the case, even for the tiny  OURlink WiFi (802.11b/g/n) <span class="caps">USB</span> Adapter (uses the <a href="http://www.realtek.com/products/productsView.aspx?Langid=2&amp;PNid=21&amp;PFid=48&amp;Level=5&amp;Conn=4&amp;ProdID=277">RTl8192cu chip</a> which is <a href="http://wiki.debian.org/rtl819x">supported by Debian Linux</a>) I purchased from <a href="http://www.adafruit.com/products/814">Adafruit</a>.  When I plugged it into the RPi, it became unstable and crashed.  Adafruit advises that you can over come this by attach the RPi&#8217;s <span class="caps">USB</span> port to a powered hub.  (Note that all <span class="caps">USB</span> hubs aren&#8217;t powered or powered sufficient, and therefore, not all are  <a href="http://elinux.org/RPi_VerifiedPeripherals">recommended</a>.  I used a Dynex 4 Port Hub with a 5V 2.1A power adapter and all seem fine.)  If you find using a using a <span class="caps">USB</span> hub completely unacceptable, you could make some <a href="http://theiopage.blogspot.com.au/2012/06/increasing-raspberry-pis-usb-host.html">RPi board modifications</a> to the <a href="http://elinux.org/Polyfuses_explained">polyfuses</a>, but this isn&#8217;t the &#8220;official/supported&#8221; approach for this power problem &#8230;. but first &#8230;. see the <strong>Epilogue</strong>&nbsp;below.</p>

<h2>My First Attempt&nbsp;(Unsuccessful)</h2>

<p>Once I got the RPi <span class="caps">USB</span> port properly powered, I followed the Adafruit&#8217;s <a href="http://learn.adafruit.com/adafruit-raspberry-pi-educational-linux-distro/occidentalis-v0-dot-1#wifi-support">instructions</a>.  I updated the<code>/etc/network/interfaces</code> file with the&nbsp;following:</p>

<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%">########## DID NOT WORK FOR ME ##########

# The loopback network interface
auto lo
iface lo inet loopback

# The primary (wired) network interface
iface eth0 inet dhcp

# The wifi (wireless) network interface
auto wlan0
allow-hotplug wlan0
iface wlan0 inet dhcp
      wpa-ssid YOUR_SSID
      wpa-psk YOUR_WEP_KEY
</pre></div>


<p>I ran  <code>ifconfig -a</code> and got the&nbsp;following:</p>

<p>
<center>
<a href="http://jeffskinnerbox.files.wordpress.com/2012/11/ifconfig-a.jpg"><img class="aligncenter size-full wp-image-574" title="ifconfig -a" alt="ifconfig" src="http://jeffskinnerbox.files.wordpress.com/2012/11/ifconfig-a.jpg" width="545" height="311" /></a>
</center>
</p>

<p>This tells me that Linux sees the WiFi device and assigned it device name <code>wlan0</code>. It also says there isn&#8217;t an <span class="caps">IP</span> address assigned and no data is moving.  Appears that network interface <code>wlan0</code> isn&#8217;t running so I tried bring it up with <code>sudo ifup wlan0</code> and I got the&nbsp;following:</p>

<p>
<center>
<a href="http://jeffskinnerbox.files.wordpress.com/2012/11/ifup-wlan0.jpg"><img class="aligncenter size-full wp-image-576" title="ifup wlan0" alt="wlan0" src="http://jeffskinnerbox.files.wordpress.com/2012/11/ifup-wlan0.jpg" width="545" height="311" /></a>
</center>
</p>

<p>No <span class="caps">IP</span> assigned &#8230; now&nbsp;what?</p>

<h2>This Worked &#8230;&nbsp;But</h2>

<p>After the typical thrashing about, it came to me that I&#8217;m not using <span class="caps">WAP</span> security (which is implied by the<code>/etc/network/interfaces</code> file content) but I&#8217;m using <span class="caps">WEP</span>.  I did some web searching and found a site that claimed to address <a href="http://www.gc-linux.org/wiki/WL:Wifi_Configuration">Debian WiFi <span class="caps">WEP</span> configuration</a>.  This provided me the needed command syntax for the solution.   I updated the<code>/etc/network/interfaces</code> file with the&nbsp;following:</p>

<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"># The loopback network interface
auto lo
iface lo inet loopback

# The primary (wired) network interface
iface eth0 inet dhcp

# The wifi (wireless) network interface
auto wlan0
allow-hotplug wlan0
iface wlan0 inet dhcp
       wireless-essid YOUR_SSID
       wireless-key YOUR_WEP_KEY
</pre></div>


<p>I then ran <code>sudo ifup wlan0</code> to start the wireless networking (Note: you can use <code>sudo ifdown wlan0</code> to turn-off the wireless network).  This time <span class="caps">DHCP</span> discovery appeared to work.  I then ran <code>ifconfig -a</code> giving me the display below with an assigned wireless <span class="caps">IP</span>.</p>

<p>
<center>
<a href="http://jeffskinnerbox.files.wordpress.com/2012/11/ifconfig-a-this-time-it-worked.jpg"><img class="aligncenter size-full wp-image-585" title="ifconfig -a (this time it worked)" alt="it worked" src="http://jeffskinnerbox.files.wordpress.com/2012/11/ifconfig-a-this-time-it-worked.jpg" width="545" height="322" /></a>
</center>
</p>

<p>The wireless device now has an <span class="caps">IP</span> address and data seems to be flowing.  In an effort to further convince myself that the WiFi was working, I disconnected the wired ethernet connection and attempted to re-login in via <code>ssh -X pi@RedRPi.local</code>, over the wireless interface. This failed, giving the&nbsp;message:</p>

<p style="padding-left:30px;"><code>ssh: Could not resolve hostname RedRPi.local: hostname nor servname provided, or not known</code></p>

<h2>Working For&nbsp;Sure</h2>

<p>I suspected (after more thrashing about) it was Ssh or <a href="http://learn.adafruit.com/adafruit-raspberry-pi-educational-linux-distro/occidentalis-v0-dot-1#bonjour-support">Avahi/Bonjour</a> or both that was getting in the way.  So I did the&nbsp;following:</p>

<ol><ol><li>I cleaned out the <code>~/.ssh/known_hosts</code> file on the <span class="caps">PC</span> from which I&#8217;m accessing the RPi (I&#8217;m using Cygwin with Openssh). With the entries in the file removed  ssh keys would need to be recreated on next&nbsp;login.</li><li>I then logged into the RPi in via <code>ssh -X pi@RedRPi.local.</code> The login created an entry the <code>~/.ssh/known_hosts</code> file on the <span class="caps">PC</span>.</li><li>Using vi, I edited the  <code>~/.ssh/known_hosts</code> file.  I duplicated the one existing record but changed the  <span class="caps">IP</span> address to the wireless&nbsp;address.</li><li>I restarted the openssh on the <span class="caps">PC</span>.  (I terminated all the Cygwin window and restarted them.  I could get anything else to work short of a <span class="caps">PC</span>&nbsp;reboot).</li><li>I then logged in using <code>ssh -X pi@192.168.1.7</code>. Now I&#8217;m&nbsp;wireless!!</li></ol></ol>

<p>My <code>~/.ssh/known_hosts</code> file looks like&nbsp;this:</p>

<p>
<center>
<a href="http://jeffskinnerbox.files.wordpress.com/2012/11/known_hosts.jpg"><img class="aligncenter size-full wp-image-594" title="known_hosts" alt="known hosts" src="http://jeffskinnerbox.files.wordpress.com/2012/11/known_hosts.jpg" width="545" height="300" /></a>
</center>
</p>

<h2>Epilogue</h2>

<p>I have found that if  I don&#8217;t use a <span class="caps">USB</span>  powered hub and I plug in the OURlink WiFi (802.11b/g/n) <span class="caps">USB</span> Adapter while the RPi is up and running, the RPi will crash.  The good news is that, once the RPi reboots, it runs fine without the powered&nbsp;hub.</p>

<p>So, go ahead and use the WiFi <span class="caps">USB</span> Adapter, without the powered hub, but make sure the adapter is plugged in when you boot up &#8230;. problem&nbsp;solved!</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jeffskinnerbox'; // required: replace example with your forum shortname
            var disqus_identifier = 'wifi-with-wep-security-on-raspberry-pi';
            var disqus_url = 'http://jeffskinnerbox.me/posts/2012/Nov/05/wifi-with-wep-security-on-raspberry-pi/';
            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <div style="text-align: center;">
                    <h3><a href="http://jeffskinnerbox.me/pages/about-me.html" style="font-family: Knewave, cursive; font-size: 18;">My Electronics Projects And Other Diversions</a>
                    <img class="img-rounded" src="http://jeffskinnerbox.me/extra/frustrated-engineer.jpg" alt="Side Bar Picture" height="100%" width="100%">
                </div>

            <li class="list-group-item"><a href="http://jeffskinnerbox.me/categories.html"><h4><i class="fa fa-folder-open fa-lg"></i><span class="icon-label">Categories</span></h4></a>
            </li>

            <li class="list-group-item"><a href="http://jeffskinnerbox.me/tags.html"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
            </li>    

            <li class="list-group-item"><a href="http://jeffskinnerbox.me/index.html"><h4><i class="fa fa-file-text fa-lg"></i><span class="icon-label">Recent Posts</span></h4></a>
            </li>

            <li class="list-group-item"><a href="http://jeffskinnerbox.me/pages/open-notebook.html"><h4><i class="fa fa-book fa-lg"></i><span class="icon-label">Open Notebook</span></h4></a>

            <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
                <ul class="list-group" id="links">
                    <li class="list-group-item">
                        <a href="/pages/scratch-pad.html" target="_blank">
                            Scratch Pad
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/pages/linux-python-packages-for-my-raspberry-pi.html" target="_blank">
                            RPi Packages
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/pages/reference-page.html" target="_blank">
                            Reference Page
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/pages/vim-cheat-sheet.html" target="_blank">
                            Vim Cheat Sheet
                        </a>
                    </li>
                </ul>
                </li>

                <li class="list-group-item"><h4><i class="fa fa-group fa-lg"></i><span class="icon-label">Social Media</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="https://github.com/jeffskinnerbox" target="_blank"><i
                            class="fa fa-github-square fa-lg"></i> Github
                    </a></li>
                    <li class="list-group-item"><a href="https://twitter.com/jeffskinnerbox" target="_blank"><i
                            class="fa fa-twitter-square fa-lg"></i> Twitter
                    </a></li>
                    <li class="list-group-item"><a href="https://linkedin.com/in/jeffreyirland" target="_blank"><i
                            class="fa fa-linkedin-square fa-lg"></i> Linkedin
                    </a></li>
                    <li class="list-group-item"><a href="http://jeffskinnerbox.me/feeds/all.atom.xml" target="_blank"><i
                            class="fa fa-rss-square fa-lg"></i> RSS
                    </a></li>
                  </ul>
            </li>

            <li class="list-group-item"><a href="http://jeffskinnerbox.me/pages/this-blog-is-powered-by.html"><h4><i class="fa fa-rocket fa-lg"></i><span class="icon-label">This Blog Powered By</span></h4></a>

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">This Blog Powered By 
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>, And
            <a href="/pages/this-blog-is-powered-by.html" target="_blank">Other Things</a>.
            <p>
            <a href="http://opensource.org/">
                <img src="/images/logos/open_source_logo.png" alt="Open Source Logo" title="The Open Source Initiative (OSI) is a non-profit corporation with global scope formed to educate about and advocate for the benefits of open source, and to build bridges among different constituencies in the open source community. The OSI maintains the Open Source Definition and the list of Open Source Initiative-approved licenses." height="40px" width="40px">
            </a>
            <small>
                All my work is
                <a href="http://opensource.org/licenses/MIT/" target="_blank">MIT licensed, Open, and Free</a>,
                except where indicated otherwise.
            </small>
            </p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://jeffskinnerbox.me/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://jeffskinnerbox.me/theme/js/respond.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'http://jeffskinnerbox.me/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'jeffskinnerbox',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="http://jeffskinnerbox.me/theme/js/github.js" type="text/javascript"></script>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jeffskinnerbox'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-43272292-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</body>
</html>